version: "3.1"

intents:
  - greet
  - join_group
  - get_available_groups
  - preference_cultural
  - preference_playa
  - preference_romantica
  - preference_relax
  - preference_aventura
  - preference_gastronomica
  - preference_bienestar
  - preference_montana
  - close_private_group
  - goodbye

rules:
  - rule: Unirse a un grupo
    steps:
      - intent: join_group
      - action: action_join_group_with_preferences
      
  - rule: Mostrar grupos disponibles
    steps:
      - intent: get_available_groups
      - action: action_get_available_groups

  - rule: Mostrar grupos basados en preferencia cultural
    steps:
      - intent: preference_cultural
      - action: action_set_preference_cultural
      - action: action_get_groups_by_preference

  - rule: Mostrar grupos basados en preferencia playa
    steps:
      - intent: preference_playa
      - action: action_set_preference_playa
      - action: action_get_groups_by_preference

  - rule: Mostrar grupos basados en preferencia romántica
    steps:
      - intent: preference_romantica
      - action: action_set_preference_romantica
      - action: action_get_groups_by_preference

  - rule: Mostrar grupos basados en preferencia relax
    steps:
      - intent: preference_relax
      - action: action_set_preference_relax
      - action: action_get_groups_by_preference

  - rule: Mostrar grupos basados en preferencia aventura
    steps:
      - intent: preference_aventura
      - action: action_set_preference_aventura
      - action: action_get_groups_by_preference

  - rule: Mostrar grupos basados en preferencia gastronómica
    steps:
      - intent: preference_gastronomica
      - action: action_set_preference_gastronomica
      - action: action_get_groups_by_preference

  - rule: Mostrar grupos basados en preferencia bienestar
    steps:
      - intent: preference_bienestar
      - action: action_set_preference_bienestar
      - action: action_get_groups_by_preference

  - rule: Mostrar grupos basados en preferencia montaña
    steps:
      - intent: preference_montana
      - action: action_set_preference_montana
      - action: action_get_groups_by_preference


entities:
  - preference
  - audience
  - date

slots:
  group_name:
    type: text
  email:
    type: text
  preference:
    type: text
        
responses:
  utter_greet:
    - text: "¡Hola! ¿En qué puedo ayudarte hoy?"
  utter_goodbye:
    - text: "¡Hasta luego! Espero haberte ayudado."
  utter_recommend:
    - text: "Con base en tus preferencias, te recomiendo los siguientes grupos: {group_list}"
  utter_no_available_groups:
    - text: "No hay grupos disponibles en este momento. Inténtalo más tarde."
  utter_preference_cultural:
    - text: "Estás buscando grupos culturales. Déjame buscar información para ti."
  utter_preference_playa:
    - text: "Grupos relacionados con la playa. Un momento por favor."
  utter_preference_romantica:
    - text: "Buscando grupos para viajes románticos..."
  utter_preference_relax:
    - text: "Grupos para relajarse, aquí está la información."
  utter_preference_aventura:
    - text: "Grupos de aventura. Déjame revisar."
  utter_preference_gastronomica:
    - text: "Explorando grupos gastronómicos para ti."
  utter_preference_bienestar:
    - text: "Buscando grupos relacionados con bienestar."
  utter_preference_montana:
    - text: "Explorando grupos en la montaña."

actions:
  - action_recommend_group
  - action_get_available_groups
  - action_close_private_group
  - action_get_groups_by_preference
  - action_set_preference_cultural
  - action_set_preference_playa
  - action_set_preference_romantica
  - action_set_preference_relax
  - action_set_preference_aventura
  - action_set_preference_gastronomica
  - action_set_preference_bienestar
  - action_set_preference_montana